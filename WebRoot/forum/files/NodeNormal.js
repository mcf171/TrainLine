(function(){if(!window.xyTree)window.xyTree={};})();xyTree.NodeNormal=function(name){this.name=name;this.id;this.parent;this.previous;this.next;this.child=[];this.level=0;this.tree;this.xuhao=0;this.displaychild=false;this.zhankaiguo=false;this.img;};xyTree.NodeNormal.prototype.toString=function(){var s='['+this.id+']=['+this.name+']'+'[level=]'+this.level;return s;};xyTree.NodeNormal.prototype.innerhtml=function(){var div=document.createElement('div');var qj=this.tree.objectname;div.id=qj+this.xuhao;div.className='qiguai';var current=this;var isSelected=false;var el_a;var oFragment=document.createDocumentFragment();for(var i=this.level-1;i>0;i--){var img=document.createElement('img');var qq=this.getparent(i);img.src=this.getimgkongge(qq);img.align="absbottom";oFragment.appendChild(img);};var img=document.createElement('img');img.src=this.getimgjiahao();img.align="absbottom";img.onclick=function(){var fu=this.parentNode;var childnodes=current.child;if(childnodes.length==0){return;};var shimowei=current.next?false:true;if(!current.displaychild){current.displaychild=true;this.src=current.getimgdianji(current.displaychild,shimowei);if(!current.img)this.nextSibling.src=xyTree.TreeConfigNormal.openFolderIcon;if(!current.zhankaiguo){current.zhankaiguo=true;var oFragmentChildDiv=document.createDocumentFragment();for(var i=0;i<childnodes.length;i++)oFragmentChildDiv.appendChild(childnodes[i].innerhtml());fu.appendChild(oFragmentChildDiv);}else{for(var i=fu.childNodes.length-1;fu.childNodes[i].className=='qiguai'&&i>=0;i--)fu.childNodes[i].style.display='block';}}else{current.displaychild=false;this.src=current.getimgdianji(current.displaychild,shimowei);if(!current.img)this.nextSibling.src=xyTree.TreeConfigNormal.folderIcon;for(var i=fu.childNodes.length-1;fu.childNodes[i].className=='qiguai'&&i>=0;i--)fu.childNodes[i].style.display='none';}};img.id=qj+'imgjiahao'+this.xuhao;oFragment.appendChild(img);img=document.createElement('img');img.id=qj+'imgfold'+this.xuhao;img.src=this.getimgfold();if(this.img)img.className='treeyangshiImg';img.onclick=function(){this.previousSibling.onclick();};img.align="absbottom";oFragment.appendChild(img);var a=document.createElement('a');this.el_a=a;a.href='javascript:void(0)';a.onclick=function(){current.tree.divtree.clickNode(current);};a.onfocus=function(){this.blur();};a.appendChild(document.createTextNode(this.name));a.style.marginLeft=xyTree.TreeConfigNormal.jianju1;oFragment.appendChild(a);div.appendChild(oFragment);return div;};xyTree.NodeNormal.prototype.setSelected=function(selected){if(selected==true){this.el_a.setAttribute("class","selected");this.el_a.setAttribute("className","selected");}else{this.el_a.setAttribute("class","");this.el_a.setAttribute("className","");};this.isSelected=selected;};xyTree.NodeNormal.prototype.isSelected=function(){return this.isSelected;};xyTree.NodeNormal.prototype.getHtmlElementFoldImg=function(){var dd=this.tree.objectname+'imgfold'+this.xuhao;return document.getElementById(dd);};xyTree.NodeNormal.prototype.getHtmlElementJiahaoImg=function(){var dd=this.tree.objectname+'imgjiahao'+this.xuhao;return document.getElementById(dd);};xyTree.NodeNormal.prototype.getparent=function(int){return this.getparentdigui(int,this);};xyTree.NodeNormal.prototype.getparentdigui=function(int,node){var node=node.parent;int--;if(int==0)return node;return this.getparentdigui(int,node);};xyTree.NodeNormal.prototype.getimgkongge=function(node){var s;if(node.next)s=xyTree.TreeConfigNormal.iIcon;else s=xyTree.TreeConfigNormal.blankIcon;return s;};xyTree.NodeNormal.prototype.getimgdianji=function(img1,mowei){var s;if(mowei)if(img1){s=xyTree.TreeConfigNormal.lMinusIcon;}else{s=xyTree.TreeConfigNormal.lPlusIcon;}else if(img1){s=xyTree.TreeConfigNormal.tMinusIcon;}else{s=xyTree.TreeConfigNormal.tPlusIcon;};return s;};xyTree.NodeNormal.prototype.getimgfold=function(){if(this.img)return this.img;var s;if(this.child.length>0)if(this.displaychild)s=xyTree.TreeConfigNormal.openFolderIcon;else s=xyTree.TreeConfigNormal.folderIcon;else s=xyTree.TreeConfigNormal.fileIcon;return s;};xyTree.NodeNormal.prototype.getimgjiahao=function(){var s;if(this.child.length>0){if(this.next)s=xyTree.TreeConfigNormal.tPlusIcon;else s=xyTree.TreeConfigNormal.lPlusIcon;}else{if(this.next)s=xyTree.TreeConfigNormal.tIcon;else s=xyTree.TreeConfigNormal.lIcon;};return s;};xyTree.NodeNormal.prototype.add=function(node){var chang=this.child.length;this.child[chang]=node;node.parent=this;node.level=this.level+1;node.tree=this.tree;if(chang>0){node.previous=this.child[chang-1];node.previous.next=node;};chang=node.tree.treeArray.length;node.tree.treeArray[chang]=node;node.xuhao=chang;if(node.level>this.tree.maxlevel)this.tree.maxlevel=node.level;};xyTree.NodeNormal.prototype.getAllChildsNum=function(){var num=this.xuhao;var j=0;var level=this.level;num++;while(num<this.tree.nodeArray.length){if(this.tree.treeArray[num++].level<=level)break;j++;};return j;};xyTree.NodeNormal.prototype.display=function(){for(var i=0;i<this.level;i++)this.tree.tempString+=' ';this.tree.tempString+='['+this.id+']=['+this.name+']'+'\n';for(var i=0;i<this.child.length;i++)this.child[i].display();};xyTree.NodeNormal.prototype.expandChilds=function(){if(this.level!=this.tree.maxlevel)this.getHtmlElementJiahaoImg().onclick();};


